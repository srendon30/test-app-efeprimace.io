import{A}from"./business-DQ0PhIfX.js";import I from"./Tabs-BoboxKcH.js";import{_ as u,c as y,e as g}from"./BaseForm-DrjkU4Ed.js";import{b as S,j as B,K as E,M as L,r as a,c as r,o as t,n as w,d as m,F as P,y as R,a as v,t as j,H as G,E as p,g as h}from"./index--L0b__mi.js";/* empty css                                              */import T from"./BaseTable-BwIqifez.js";import"./CurrencyInput-DOc8TzzC.js";import"./Modal-Dyo44v8a.js";import"./IconX-BLOIGDHv.js";import"./ViewDetails-n-RkcBNF.js";import"./featureFlags-C9HAkJ2d.js";const C={key:0},F={class:"my-6 text-2xl text-identity-dark dark:text-gray-300 text-center"},M={__name:"MisActividades",setup(k){let s;const c=S(),{backendUrlFC:l}=B();E(()=>{s&&(s(),y())}),s=L(()=>g.data,async e=>{e&&e.actionSelected==="show_my_activities_table"&&(o(!1),f.value=e.estructura,_.value=await b(),o(!0),y())},{immediate:!1});const d=a(!1),o=e=>{d.value=e},f=a(null),_=a(null);async function b(){const e=new URL("api/list/ordenEtapasPorResponsable/"+f.value.id,l),i=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${c.token}`,"Content-Type":"application/json",Accept:"application/json"}}),n=await i.json();if(!i.ok)throw new G(n.message,i.status);return n}return(e,i)=>(t(),r("main",null,[w(u,{"type-form":"misActividades","icons-view":[],"action-selected":"my_activities"}),d.value?(t(),r("div",C,[(t(!0),r(P,null,R(_.value,(n,x)=>(t(),r("div",{key:x},[v("h2",F,j(n.show_data),1),w(T,{table:"actividadesResponsableOrdenEtapa","icons-view":[],"row-selected":n,"show-search":!1},null,8,["row-selected"])]))),128))])):m("",!0)]))}},J={__name:"Actividades",setup(k){const s=a(!1),c=a(["IconSettings","IconSurvey","IconDocumentCheck","IconUsers","IconDownload","IconList"]),l=a([{title:"Actividades Proyectos",icon:"IconList",component:p(M),props:{}},{title:"Actividades Generales Proyectos",icon:"IconSurvey",component:p(u),props:{"icons-view":[],"type-form":"actividadesGeneralesProyectos","row-selected":null}},{title:"Actividades Generales",icon:"IconSurvey",component:p(u),props:{"icons-view":[],"type-form":"actividadesGenerales","row-selected":null}}]);return(d,o)=>(t(),r("main",null,[s.value?(t(),h(A,{key:0})):m("",!0),o[0]||(o[0]=v("div",{class:"wrapper flex items-center justify-center mb-10"},[v("h1",{class:"text-2xl text-identity-dark dark:text-gray-300"},"Mis Actividades")],-1)),s.value?m("",!0):(t(),h(I,{key:1,tabs:l.value,icons:c.value},null,8,["tabs","icons"]))]))}};export{J as default};
